\subsection{OlaVM} \label{sec:ola-vm}

The Zero-knowledge virtual machine (ZKVM) is one of the core modules in OlaVM. It executes the program compiled from the Ola-lang to generate trace tables. The traces are used by ZK prover to construct the ZK proof.
The program format provided by Ola-lang compiler consists of two fields (bytecode and prophets):
\begin{itemize}
    \item \verb|bytecode| consists of instructions and can not be empty.
    \item \verb|prophets| is a array contain all prophets and can be empty.
\end{itemize}

The program snippet is as below:
\begin{lstlisting}[label={lst:program-demo}]
{
  "bytecode": "0x6000080400000000\n0x5\n0x2010000001000000\n0xfffffffeffffffff\n0x4000000840000000\n0x0\n0x0030000001000000\n",
  "prophets": [
    {
      "host": 41,
      "code": "%{\n    entry() {\n        cid.y = sqrt(cid.x);\n    }\n%}",
      "inputs": [
        {
          "name": "cid.x",
          "stored_in": "reg",
          "anchor": "r1",
          "offset": 0
        }
      ],
      "outputs": [
        "cid.y"
      ]
    }
  ]
}
\end{lstlisting}


The ZKVM module contains the following modules:
\begin{itemize}
    \item \verb|instructions set|
    \item \verb|prophet|
    \item \verb|builtin|
    \item \verb|memory|
    \item \verb|trace generator|
\end{itemize}

\input{olavm/vm/instruction-set.tex}
\input{olavm/vm/memory.tex}
\input{olavm/vm/prophet-interpreter.tex}
\input{olavm/vm/builtin.tex}
